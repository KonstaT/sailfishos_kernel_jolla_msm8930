/* Copyright (c) 2011-2012, Code Aurora Forum. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

#include <linux/mfd/pm8xxx/batterydata-lib.h>

static struct single_row_lut sbj_2100_fcc_temp = {
	.x		= {-20, 0, 25, 40, 60},
	.y		= {2079, 2076, 2079, 2078, 2072},
	.cols	= 5
};

static struct single_row_lut sbj_2100_fcc_sf = {
	.x		= {0},
	.y		= {100},
	.cols	= 1
};

static struct sf_lut sbj_2100_rbatt_sf = {
	.rows		= 30,
	.cols		= 5,
	.row_entries		= {-20, 0, 25, 40, 60},
	.percent	= {100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20, 16, 13, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1},
	.sf		= {
				{1342, 358, 100, 77, 69},
				{1232, 357, 101, 78, 70},
				{1234, 357, 101, 78, 70},
				{1188, 352, 103, 79, 70},
				{1097, 359, 105, 81, 72},
				{1075, 345, 111, 84, 73},
				{1047, 305, 113, 87, 75},
				{1058, 307, 121, 91, 77},
				{1097, 298, 119, 97, 83},
				{1148, 290, 101, 83, 75},
				{1190, 285, 96, 77, 70},
				{1227, 279, 97, 78, 70},
				{1260, 305, 98, 80, 73},
				{1293, 340, 100, 82, 76},
				{1330, 374, 102, 82, 74},
				{1447, 409, 105, 81, 72},
				{1653, 443, 103, 80, 72},
				{1891, 479, 104, 80, 72},
				{2141, 518, 103, 79, 71},
				{2324, 548, 103, 79, 72},
				{2343, 558, 104, 80, 73},
				{2331, 550, 104, 81, 73},
				{2508, 564, 106, 82, 75},
				{2795, 588, 110, 85, 78},
				{3160, 616, 115, 88, 81},
				{3639, 643, 118, 87, 77},
				{4314, 673, 115, 83, 74},
				{5393, 717, 118, 86, 77},
				{8350, 787, 130, 95, 88},
				{64343, 2689, 176, 173, 1301},
	}
};

static struct pc_temp_ocv_lut sbj_2100_pc_temp_ocv = {
	.rows		= 31,
	.cols		= 5,
	.temp		= {-20, 0, 25, 40, 60},
	.percent	= {100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20, 16, 13, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0},
	.ocv		= {
				{4322, 4323, 4320, 4314, 4307},//100
				{4195, 4241, 4250, 4249, 4244},//95
				{4123, 4183, 4194, 4193, 4189},//90
				{4069, 4129, 4140, 4139, 4135},//85
				{3970, 4086, 4089, 4088, 4084},//80
				{3917, 4027, 4046, 4042, 4036},//75
				{3860, 3953, 3986, 3994, 3992},//70
				{3829, 3917, 3955, 3957, 3954},//65
				{3810, 3882, 3914, 3919, 3917},//60
				{3798, 3849, 3866, 3869, 3868},//55
				{3788, 3822, 3835, 3835, 3835},//50
				{3777, 3794, 3812, 3813, 3812},//45
				{3765, 3782, 3795, 3795, 3794},//40
				{3753, 3774, 3780, 3781, 3780},//35
				{3739, 3764, 3771, 3767, 3762},//30
				{3723, 3752, 3761, 3753, 3741},//25
				{3704, 3729, 3742, 3734, 3720},//20
				{3683, 3710, 3714, 3708, 3694},//16
				{3663, 3698, 3692, 3687, 3676},//13
				{3646, 3692, 3685, 3680, 3669},//11
				{3636, 3689, 3684, 3679, 3668},//10
				{3625, 3686, 3683, 3678, 3667},//9
				{3611, 3682, 3682, 3677, 3666},//8
				{3594, 3678, 3680, 3675, 3664},//7
				{3573, 3671, 3676, 3671, 3659},//6
				{3546, 3655, 3665, 3657, 3639},//5
				{3510, 3626, 3630, 3618, 3594},//4
				{3457, 3577, 3573, 3559, 3533},//3
				{3372, 3502, 3494, 3479, 3452},//2
				{3242, 3382, 3374, 3357, 3324},//1
				{3000, 3000, 3000, 3000, 3000}//0
	}
};

//Carl Chang+
static struct pc_temp_ocv_lut sbj_2100_soc_temp_ocv = {
	.rows		= 31,
	.cols		= 5,
	.temp		= {-20, 0, 25, 40, 60},
	.percent	= {1050, 1000, 949, 899, 848, 797, 746, 696, 645, 594, 543,//0.1%
			   493, 442, 391, 341, 290, 239, 188, 148, 117, 97,
			   87, 77, 67, 56, 46, 36, 26, 16, 6, 0},//soc=(PC-1.44)*1000/(100-1.44)
	.ocv		= {
				{4449, 4405, 4390, 4379, 4370},//105 1050
				{4322, 4323, 4320, 4314, 4307},//100 1000
				{4195, 4241, 4250, 4249, 4244},//95  949
				{4123, 4183, 4194, 4193, 4189},//90  899
				{4069, 4129, 4140, 4139, 4135},//85  848
				{3970, 4086, 4089, 4088, 4084},//80  797
				{3917, 4027, 4046, 4042, 4036},//75  746
				{3860, 3953, 3986, 3994, 3992},//70  696
				{3829, 3917, 3955, 3957, 3954},//65  645
				{3810, 3882, 3914, 3919, 3917},//60  594
				{3798, 3849, 3866, 3869, 3868},//55  543
				{3788, 3822, 3835, 3835, 3835},//50  493
				{3777, 3794, 3812, 3813, 3812},//45  442
				{3765, 3782, 3795, 3795, 3794},//40  391
				{3753, 3774, 3780, 3781, 3780},//35  341
				{3739, 3764, 3771, 3767, 3762},//30  290
				{3723, 3752, 3761, 3753, 3741},//25  239
				{3704, 3729, 3742, 3734, 3720},//20  188
				{3683, 3710, 3714, 3708, 3694},//16  148
				{3663, 3698, 3692, 3687, 3676},//13  117
				{3646, 3692, 3685, 3680, 3669},//11  97
				{3636, 3689, 3684, 3679, 3668},//10  87
				{3625, 3686, 3683, 3678, 3667},//9   77
				{3611, 3682, 3682, 3677, 3666},//8   67
				{3594, 3678, 3680, 3675, 3664},//7   56
				{3573, 3671, 3676, 3671, 3659},//6   46
				{3546, 3655, 3665, 3657, 3639},//5   36
				{3510, 3626, 3630, 3618, 3594},//4   26
				{3457, 3577, 3573, 3559, 3533},//3   16
				{3421, 3502, 3494, 3479, 3452},//2   6
				{3400, 3400, 3400, 3400, 3400}//0    0(let 3.4V as PC 1.44 %)				
				
				//{3242, 3382, 3374, 3357, 3324},//1
				//{3000, 3000, 3000, 3000, 3000}//0
	}
};
//Carl Chang-

struct bms_battery_data sbj_2100_data = {
	.fcc				= 2100,
	.fcc_temp_lut			= &sbj_2100_fcc_temp,
	.fcc_sf_lut			= &sbj_2100_fcc_sf,
	.pc_temp_ocv_lut		= &sbj_2100_pc_temp_ocv,
	.soc_temp_ocv_lut		= &sbj_2100_soc_temp_ocv,//Carl Chang
	.rbatt_sf_lut			= &sbj_2100_rbatt_sf,
	.default_rbatt_mohm		= 193
};

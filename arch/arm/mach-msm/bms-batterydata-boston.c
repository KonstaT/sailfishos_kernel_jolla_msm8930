/* Copyright (c) 2011-2012, Code Aurora Forum. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

#include <linux/mfd/pm8xxx/batterydata-lib.h>

static struct single_row_lut boston_2000_fcc_temp = {
	.x		= {-20, 0, 25, 40, 60},
	.y		= {2060, 2066, 2067, 2066, 2055},
	.cols	= 5
};

static struct single_row_lut boston_2000_fcc_sf = {
	.x		= {0},
	.y		= {100},
	.cols	= 1
};

static struct sf_lut boston_2000_rbatt_sf = {
	.rows		= 29,
	.cols		= 5,
	.row_entries		= {-20, 0, 25, 40, 60},
	.percent	= {100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20, 15, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0},
	.sf		= {
				{1944, 296, 100, 79, 72},
				{1941, 296, 100, 79, 72},
				{1931, 301, 101, 81, 72},
				{2054, 313, 103, 82, 73},
				{1710, 328, 107, 83, 74},
				{1668, 362, 114, 88, 75},
				{1651, 335, 115, 87, 77},
				{1651, 336, 128, 93, 80},
				{1740, 311, 135, 100, 83},
				{1897, 278, 114, 91, 79},
				{2089, 272, 100, 81, 73},
				{2313, 272, 100, 81, 74},
				{2564, 275, 100, 82, 75},
				{2825, 280, 101, 82, 76},
				{3079, 293, 101, 81, 74},
				{3335, 312, 99, 79, 73},
				{3590, 330, 97, 79, 72},
				{3850, 354, 99, 79, 72},
				{3943, 383, 100, 80, 74},
				{4032, 398, 100, 81, 74},
				{4129, 422, 102, 82, 77},
				{4225, 450, 106, 83, 78},
				{4338, 485, 109, 85, 78},
				{4465, 517, 109, 85, 75},
				{4627, 536, 109, 84, 77},
				{4816, 570, 114, 90, 80},
				{5082, 652, 131, 109, 98},
				{6706, 7183, 448, 283, 2718},
				{148752, 185876, 229621, 239560, 127932}
	}
};

static struct pc_temp_ocv_lut boston_2000_pc_temp_ocv = {
	.rows		= 29,
	.cols		= 5,
	.temp		= {-20, 0, 25, 40, 60},
	.percent	= {100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20, 15, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0},
	.ocv		= {
				{4328, 4326, 4322, 4318, 4310},// 100
				{4206, 4249, 4255, 4253, 4248},// 95
				{4124, 4194, 4199, 4198, 4193},// 90
				{4072, 4143, 4146, 4144, 4140},// 85
				{3976, 4094, 4096, 4094, 4089},// 80
				{3925, 4047, 4051, 4046, 4042},// 75
				{3882, 3973, 3992, 3997, 3998},// 70
				{3846, 3931, 3959, 3962, 3959},// 65
				{3825, 3895, 3920, 3922, 3919},// 60
				{3813, 3860, 3873, 3875, 3874},// 55
				{3802, 3833, 3840, 3840, 3839},// 50
				{3791, 3811, 3818, 3818, 3817},// 45
				{3779, 3794, 3800, 3800, 3799},// 40
				{3767, 3782, 3786, 3785, 3783},// 35
				{3752, 3772, 3774, 3770, 3763},// 30
				{3736, 3761, 3762, 3754, 3741},// 25
				{3718, 3740, 3743, 3734, 3719},// 20
				{3697, 3710, 3709, 3700, 3686},// 15
				{3667, 3693, 3689, 3681, 3669},// 10
				{3659, 3691, 3688, 3680, 3668},// 9
				{3649, 3688, 3686, 3679, 3667},// 8
				{3636, 3684, 3684, 3677, 3665},// 7
				{3620, 3677, 3680, 3671, 3658},// 6
				{3598, 3661, 3663, 3651, 3632},// 5
				{3569, 3628, 3624, 3607, 3584},// 4
				{3528, 3572, 3561, 3544, 3520},// 3
				{3468, 3487, 3474, 3455, 3432},// 2
				{3370, 3354, 3338, 3315, 3294},// 1
				{3000, 3000, 3000, 3000, 3000} // 0
	}
};

//Carl Chang+
static struct pc_temp_ocv_lut boston_2000_soc_temp_ocv = {
	.rows		= 29,
	.cols		= 5,
	.temp		= {-20, 0, 25, 40, 60},
	.percent	= {1050,1000, 949, 898, 847, 797, 746, 695, 644, 593, 542,// 0.1%
			   492, 441, 390, 339, 288, 237, 187, 136, 85, 75,
			   65, 54, 44, 34, 24, 14, 4,  0},//soc=(PC-1.65)*1000/(100-1.65)
	.ocv		= {
				{4452, 4405, 4391, 4385, 4374},// 105 1050
				{4328, 4326, 4322, 4318, 4310},// 100 1000
				{4206, 4249, 4255, 4253, 4248},// 95  949
				{4124, 4194, 4199, 4198, 4193},// 90  898 
				{4072, 4143, 4146, 4144, 4140},// 85  847
				{3976, 4094, 4096, 4094, 4089},// 80  797
				{3925, 4047, 4051, 4046, 4042},// 75  746
				{3882, 3973, 3992, 3997, 3998},// 70  695
				{3846, 3931, 3959, 3962, 3959},// 65  644
				{3825, 3895, 3920, 3922, 3919},// 60  593
				{3813, 3860, 3873, 3875, 3874},// 55  542
				{3802, 3833, 3840, 3840, 3839},// 50  492
				{3791, 3811, 3818, 3818, 3817},// 45  441
				{3779, 3794, 3800, 3800, 3799},// 40  390
				{3767, 3782, 3786, 3785, 3783},// 35  339
				{3752, 3772, 3774, 3770, 3763},// 30  288
				{3736, 3761, 3762, 3754, 3741},// 25  237
				{3718, 3740, 3743, 3734, 3719},// 20  187
				{3697, 3710, 3709, 3700, 3686},// 15  136
				{3667, 3693, 3689, 3681, 3669},// 10  85
				{3659, 3691, 3688, 3680, 3668},// 9   75
				{3649, 3688, 3686, 3679, 3667},// 8   65
				{3636, 3684, 3684, 3677, 3665},// 7   54
				{3620, 3677, 3680, 3671, 3658},// 6   44
				{3598, 3661, 3663, 3651, 3632},// 5   34
				{3569, 3628, 3624, 3607, 3584},// 4   24
				{3528, 3572, 3561, 3544, 3520},// 3   14
				{3468, 3487, 3474, 3455, 3432},// 2   4
				{3400, 3400, 3400, 3400, 3400} // 0, (let 3.4V as PC 1.65 %)

				//{3370, 3354, 3338, 3315, 3294},// 1
				//{3000, 3000, 3000, 3000, 3000} // 0
	}
};
//Carl Chang-

struct bms_battery_data boston_2000_data = {
	.fcc				= 2100,
	.fcc_temp_lut			= &boston_2000_fcc_temp,
	.fcc_sf_lut			= &boston_2000_fcc_sf,
	.pc_temp_ocv_lut		= &boston_2000_pc_temp_ocv,
	.soc_temp_ocv_lut		= &boston_2000_soc_temp_ocv,//Carl Chang
	.rbatt_sf_lut			= &boston_2000_rbatt_sf,
	.default_rbatt_mohm		= 174
};

